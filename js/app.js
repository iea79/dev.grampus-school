function isLgWidth(){return $(window).width()>=TempApp.lgWidth}function isMdWidth(){return $(window).width()>=TempApp.mdWidth&&$(window).width()<TempApp.lgWidth}function isSmWidth(){return $(window).width()>=TempApp.smWidth&&$(window).width()<TempApp.mdWidth}function isXsWidth(){return $(window).width()<TempApp.smWidth}function isIOS(){return TempApp.iOS()}function isTouch(){return TempApp.touchDevice()}function checkOnResize(){isXsWidth()?$(".header__action").appendTo(".navbar"):$(".header__action").insertAfter(".header__left"),isSmWidth()||isXsWidth()?$(".training__students").insertAfter(".training__sales"):$(".training__students").insertAfter(".training__bottom")}function mobileNav(){function e(){n.removeAttr("style"),$(".navbar__backdrop").remove(),t.removeClass("navbar__toggle_close"),i.removeClass("navbar_open"),console.log("close")}var t=$(".navbar__toggle"),i=$(".navbar"),n=$("body");$(".navbar__backdrop");t.on("click",function(){$(this).hasClass("navbar__toggle_close")?e():(n.css("overflow","hidden"),n.append('<div class="navbar__backdrop"></div>'),t.addClass("navbar__toggle_close"),i.addClass("navbar_open"))}),n.on("click",".navbar__backdrop",function(){e()})}function gridMatch(){$("[data-grid-match] .grid__item").matchHeight({byRow:!0})}function fontResize(){var e=$(window).width();if(1200<=e)var t=e/19.05;else if(e<1200)t=60;$("body").css("fontSize",t+"%")}function thousandSeparator(e){for(var t=(e+"").split("."),i=t[0],n=i.length,o="",s=n-1;0<=s;)o=i.charAt(s)+o,(n-s)%3==0&&0<s&&(o=" "+o),--s;return 1<t.length&&(o+="."+t[1]),o}function formSubmit(){$(".js_pay").on("click",function(e){e.preventDefault();var t=$(this).closest(".form_yk"),i=(t.attr("action"),t.serialize(),t.find("[required]"));if(empty=0,i.each(function(){""==$(this).val()?($(this).addClass("invalid"),$(".form__error").html("Не заполнены обязательные поля"),setTimeout(function(){$(".form__error").html("")},5e3),empty++):($(this).removeClass("invalid"),$(this).addClass("valid"))}),0<empty)return!1;t.submit()}),$("[required]").on("keyup change",function(){""!=$(this).val()&&$(this).removeClass("invalid")}),$(".form__privacy input").on("change",function(e){e.preventDefault();var t=$(this).closest(".form").find(".btn");$(this).prop("checked")?t.removeAttr("disabled"):t.attr("disabled",!0)})}function customSelectInit(e){var t,i,n,o,s,a,r;for(t=document.getElementsByClassName(e),i=0;i<t.length;i++){for(o=t[i].getElementsByTagName("select")[0],(s=document.createElement("DIV")).setAttribute("class","select-selected"),s.innerHTML=o.options[o.selectedIndex].innerHTML,t[i].appendChild(s),(a=document.createElement("DIV")).setAttribute("class","select-items select-hide"),n=1;n<o.length;n++)(r=document.createElement("DIV")).innerHTML=o.options[n].innerHTML,r.addEventListener("click",function(e){var t,i,n,o,s;for(o=this.parentNode.parentNode.getElementsByTagName("select")[0],s=this.parentNode.previousSibling,i=0;i<o.length;i++)if(o.options[i].innerHTML==this.innerHTML){for(o.selectedIndex=i,s.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),n=0;n<t.length;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}s.click()}),a.appendChild(r);t[i].appendChild(a),s.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}}function closeAllSelect(e){var t,i,n,o=[];for(t=document.getElementsByClassName("select-items"),i=document.getElementsByClassName("select-selected"),n=0;n<i.length;n++)e==i[n]?o.push(n):i[n].classList.remove("select-arrow-active");for(n=0;n<t.length;n++)o.indexOf(n)&&t[n].classList.add("select-hide")}var TempApp={lgWidth:1200,mdWidth:992,smWidth:768,resized:!1,iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},touchDevice:function(){return navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|Opera Mini|IEMobile/i)}};$(document).ready(function(){function e(){$(".full__height").css({minHeight:$(window).height()+"px"})}isIOS()&&$(function(){$(document).on("touchend","a",$.noop)}),e(),$(window).resize(e),$('[href*="#"]').click(function(e){e.preventDefault()});var t=$(".header").offset().top;$(window).scroll(function(){$(window).scrollTop()>t?$(".header").addClass("stiky"):$(".header").removeClass("stiky")}),$("[type=tel]").mask("+9(999)999 99 99",{showMaskOnHover:!1}),checkOnResize(),mobileNav(),$(".review__slider").slick({adaptiveHeight:!0,responsive:[{breakpoint:768,settings:{dots:!0,arrows:!1,adaptiveHeight:!0}}]}),$(".reviewLine__title").on("click",function(){var e=$(this).closest(".reviewLine");$(".reviewLine").not(e).removeClass("reviewLine_active"),e.toggleClass("reviewLine_active")}),setTimeout(function(){$(".wdgMoyklass-course-title a").each(function(){$(this).removeAttr("target")})},3e3),setTimeout(function(){$(".select").each(function(e,t){$(this).parent().find(".custom-select").length<1&&($(this).wrap('<div class="custom-select"></div>'),customSelectInit("custom-select"))})},500),$("#payType").on("change",function(){var e=$(this).val();return""==e?($("input#sum").val(""),$(".form__total").html("Сумма не выбрана"),$("#handle").attr("type","hidden"),$("#sale").prop("checked",!1),$(".checkbox").hide(),!1):"handle"===e?($("input#sum").val(""),$(".form__total").html("Сумма не выбрана"),$("#handle").attr("type","number"),$("#sale").prop("checked",!1),$(".checkbox").hide(),!1):("2000"!==e?$(".checkbox").show():($("#sale").prop("checked",!1),$(".checkbox").hide()),$("#sale").prop("checked")&&"2000"!==e?e=Math.round(.8*e):$(this).val(),$("#handle").attr("type","hidden"),$("input#sum").val(e),void $(".form__total").html("К оплате "+thousandSeparator(e)+" руб."))}),$("#sale").prop("checked",!1),$(".checkbox").hide(),$("#sale").on("change",function(){var e=$(this).prop("checked"),t=$("#payType").val();switch(t){case"":$("input#sum").val(""),$(".form__total").html("Сумма не выбрана");break;case"handle":$("input#sum").val(""),$(".form__total").html("Сумма не выбрана"),$("#handle").attr("type","number");break;case"2000":return!1}e?t=Math.round(.8*t):$(this).val(),$("#handle").attr("type","hidden"),$("input#sum").val(t),$(".form__total").html("К оплате "+thousandSeparator(t)+" руб.")}),$("#handle").on("keyup",function(){var e=$(this).val();0<e.length?($("input#sum").val(e),$(".form__total").html("К оплате "+thousandSeparator(e)+" руб.")):$(".form__total").html("Сумма не выбрана")})}),$(window).resize(function(e){var t=$(window).width();TempApp.resized!=t&&(TempApp.resized=t,checkOnResize())}),$(function(){$(".js_youtube")&&($(".js_youtube").each(function(){$(this).css("background-image","url(http://i.ytimg.com/vi/"+this.id+"/sddefault.jpg)"),$(this).append($('<div class="video__play"><img src="img/play.svg" alt="Play"></div>'))}),$(".video__play, .video__prev").on("click",function(){var e="https://www.youtube.com/embed/"+$(this).closest(".js_youtube").attr("id")+"?autoplay=1&autohide=1";$(this).data("params")&&(e+="&"+$(this).data("params"));var t=$("<iframe/>",{frameborder:"0",src:e});$(this).closest(".video__wrapper").append(t)}))}),formSubmit();var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!=i.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Internet Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"iPhone",identity:"IOS"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();var browserName=BrowserDetect.browser.toLowerCase();browserName?"flex"in document.documentElement.style?document.documentElement.setAttribute("data-browser","flexible "+browserName):document.documentElement.setAttribute("data-browser","not-flex "+browserName):"flex"in document.documentElement.style?document.documentElement.setAttribute("data-browser","flexible"):document.documentElement.setAttribute("data-browser","not-flex"),function(s){"use strict";function a(n,o){return this.each(function(){var e=s(this),t=e.data("bs.modal"),i=s.extend({},r.DEFAULTS,e.data(),"object"==typeof n&&n);t||e.data("bs.modal",t=new r(this,i)),"string"==typeof n?t[n](o):i.show&&t.show(o)})}var r=function(e,t){this.options=t,this.$body=s(document.body),this.$element=s(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,s.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};r.VERSION="3.3.6",r.TRANSITION_DURATION=300,r.BACKDROP_TRANSITION_DURATION=150,r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},r.prototype.show=function(i){var n=this,e=s.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',s.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){s(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=s.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),e&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var t=s.Event("shown.bs.modal",{relatedTarget:i});e?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(r.TRANSITION_DURATION):n.$element.trigger("focus").trigger(t)}))},r.prototype.hide=function(e){e&&e.preventDefault(),e=s.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",s.proxy(this.hideModal,this)).emulateTransitionEnd(r.TRANSITION_DURATION):this.hideModal())},r.prototype.enforceFocus=function(){s(document).off("focusin.bs.modal").on("focusin.bs.modal",s.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",s.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},r.prototype.resize=function(){this.isShown?s(window).on("resize.bs.modal",s.proxy(this.handleUpdate,this)):s(window).off("resize.bs.modal")},r.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(e){var t=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=s.support.transition&&i;if(this.$backdrop=s(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",s.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){t.removeBackdrop(),e&&e()};s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},r.prototype.handleUpdate=function(){this.adjustDialog()},r.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},r.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},r.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},r.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},r.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},r.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=s.fn.modal;s.fn.modal=a,s.fn.modal.Constructor=r,s.fn.modal.noConflict=function(){return s.fn.modal=e,this},s(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=s(this),i=t.attr("href"),n=s(t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("bs.modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},n.data(),t.data());t.is("a")&&e.preventDefault(),n.one("show.bs.modal",function(e){e.isDefaultPrevented()||n.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),a.call(n,o,this)})}(jQuery),document.addEventListener("click",closeAllSelect),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(_){var n,e=navigator.userAgent,A=/iphone/i.test(e),o=/chrome/i.test(e),T=/android/i.test(e);_.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},_.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,v){var i,b,$,y,w,k,S;if(!t&&0<this.length){var e=_(this[0]).data(_.mask.dataName);return e?e():void 0}return v=_.extend({autoclear:_.mask.autoclear,placeholder:_.mask.placeholder,completed:null},v),i=_.mask.definitions,b=[],$=k=t.length,y=null,t=String(t),_.each(t.split(""),function(e,t){"?"==t?(k--,$=e):i[t]?(b.push(new RegExp(i[t])),null===y&&(y=b.length-1),e<$&&(w=b.length-1)):b.push(null)}),this.trigger("unmask").each(function(){function a(){if(v.completed){for(var e=y;e<=w;e++)if(b[e]&&p[e]===r(e))return;v.completed.call(m)}}function r(e){return e<v.placeholder.length?v.placeholder.charAt(e):v.placeholder.charAt(0)}function d(e){for(;++e<k&&!b[e];);return e}function l(e,t){var i,n;if(!(e<0)){for(i=e,n=d(t);i<k;i++)if(b[i]){if(!(n<k&&b[i].test(p[n])))break;p[i]=p[n],p[n]=r(n),n=d(n)}h(),m.caret(Math.max(y,e))}}function s(e){u(),m.val()!=g&&m.change()}function c(e,t){var i;for(i=e;i<t&&i<k;i++)b[i]&&(p[i]=r(i))}function h(){m.val(p.join(""))}function u(e){var t,i,n,o=m.val(),s=-1;for(n=t=0;t<k;t++)if(b[t]){for(p[t]=r(t);n++<o.length;)if(i=o.charAt(n-1),b[t].test(i)){p[t]=i,s=t;break}if(n>o.length){c(t+1,k);break}}else p[t]===o.charAt(n)&&n++,t<$&&(s=t);return e?h():s+1<$?v.autoclear||p.join("")===f?(m.val()&&m.val(""),c(0,k)):h():(h(),m.val(m.val().substring(0,s+1))),$?t:y}var m=_(this),p=_.map(t.split(""),function(e,t){if("?"!=e)return i[e]?r(t):e}),f=p.join(""),g=m.val();m.data(_.mask.dataName,function(){return _.map(p,function(e,t){return b[t]&&e!=r(t)?e:null}).join("")}),m.one("unmask",function(){m.off(".mask").removeData(_.mask.dataName)}).on("focus.mask",function(){var e;m.prop("readonly")||(clearTimeout(n),g=m.val(),e=u(),n=setTimeout(function(){m.get(0)===document.activeElement&&(h(),e==t.replace("?","").length?m.caret(0,e):m.caret(e))},10))}).on("blur.mask",s).on("keydown.mask",function(e){if(!m.prop("readonly")){var t,i,n,o=e.which||e.keyCode;S=m.val(),8===o||46===o||A&&127===o?(i=(t=m.caret()).begin,(n=t.end)-i==0&&(i=46!==o?function(e){for(;0<=--e&&!b[e];);return e}(i):n=d(i-1),n=46===o?d(n):n),c(i,n),l(i,n-1),e.preventDefault()):13===o?s.call(this,e):27===o&&(m.val(g),m.caret(0,u()),e.preventDefault())}}).on("keypress.mask",function(e){if(!m.prop("readonly")){var t,i,n,o=e.which||e.keyCode,s=m.caret();e.ctrlKey||e.altKey||e.metaKey||o<32||!o||13===o||(s.end-s.begin!=0&&(c(s.begin,s.end),l(s.begin,s.end-1)),(t=d(s.begin-1))<k&&(i=String.fromCharCode(o),b[t].test(i))&&(function(e){var t,i,n,o;for(i=r(t=e);t<k;t++)if(b[t]){if(n=d(t),o=p[t],p[t]=i,!(n<k&&b[n].test(o)))break;i=o}}(t),p[t]=i,h(),n=d(t),T?setTimeout(function(){_.proxy(_.fn.caret,m,n)()},0):m.caret(n),s.begin<=w&&a()),e.preventDefault())}}).on("input.mask paste.mask",function(){m.prop("readonly")||setTimeout(function(){var e=u(!0);m.caret(e),a()},0)}),o&&T&&m.off("input.mask").on("input.mask",function(e){var t=m.val(),i=m.caret();if(S&&S.length&&S.length>t.length){for(u(!0);0<i.begin&&!b[i.begin-1];)i.begin--;if(0===i.begin)for(;i.begin<y&&!b[i.begin];)i.begin++;m.caret(i.begin,i.begin)}else{u(!0);var n=t.charAt(i.begin);i.begin<k&&(b[i.begin]||i.begin++,b[i.begin].test(n)&&i.begin++),m.caret(i.begin,i.begin)}a()}),u()})}})});